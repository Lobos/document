<!DOCTYPE html>
<html ng-app="app">
<head>
    <title>index</title>
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />
</head>
<body ng-controller="AppCtrl">
    <div class="header">
        <div class="logo">
            Administrator
        </div>

        <div class="profile">
            <a href="javascript:"><i class="icon icon-user"></i> {{ admin.name }}</a>
            <a href="{{ url_for('home.signout') }}"><i class="icon-signout"></i> 退出</a>
        </div>

        <a class="menu-hidden-desktop" href="javascript:"><i class="icon-reorder"></i> 菜单</a>
    </div>

    <div ng-class="{'menu-nav':true, 'full':menuFolded}">
        <div class="caption">
            <span>MENU</span>
            <a ng-hide="menuFolded" ng-click="menuFolded=true" href="javascript:;"><i class="icon icon-angle-double-left"></i></a>
            <a ng-show="menuFolded" ng-click="menuFolded=false" class="side" href="javascript:;">MENU<i class="icon icon-angle-double-right"></i></a>
        </div>
        <ul class="nav menu" ng-controller="NavCtrl">
            {% for m in menu %}
            <li ng-class="{'active':node=='{{ m.url }}'}" ng-click="active('{{ m.url }}')">
                <a class="node" href="javascript:;"><i class="icon {{ m.icon }}"></i> {{ m.title }}</a>
                {% if m.children -%}
                <ul class="nav" collapse="node!='{{ m.url }}'">
                    {% for s in m.children %}
                    <li><a class="link" href="{{ s.url }}"><i class="icon {{ s.icon }}"></i> {{ s.title }}</a></li>
                    {% endfor %}
                </ul>
                {%- endif %}
            </li>
            {% endfor %}
        </ul>
    </div>

    <div ng-class="{'main-wrapper':true, 'full':menuFolded}" ng-show="loading">Loading...</div>
    <div ng-class="{'main-wrapper':true, 'slide-reveal':true, 'full':menuFolded}" onload="afterPageLoad()" ng-hide="loading" ng-include="currentPage"></div>

    {% include("scripts.html") %}
</body>
</html>